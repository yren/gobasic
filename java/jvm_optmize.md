## 何时进行JVM调优
遇到以下情况，就需要考虑进行JVM调优了

* Heap内存（老年代）持续上涨达到设置的最大内存值
* Full GC 次数频繁
* GC 停顿时间过长（超过1秒）；
* 应用出现OutOfMemory 等内存异常
* 应用中有使用本地缓存且占用大量内存空间；
* 系统吞吐量与响应性能不高或下降。

## JVM调优的基本原则
JVM调优是一个手段，但并不一定所有问题都可以通过JVM进行调优解决，因此，在进行JVM调优时，我们要遵循一些原则：

* 大多数的Java应用不需要进行JVM优化；
* 大多数导致GC问题的原因是代码层面的问题导致的（代码层面）；
* 上线之前，应先考虑将机器的JVM参数设置到最优；
* 减少创建对象的数量（代码层面）
* 减少使用全局变量和大对象（代码层面）；
* 优先架构调优和代码调优，JVM优化是不得已的手段（代码、架构层面）；
* 分析GC情况优化代码比优化JVM参数更好（代码层面）；

## JVM调优目标
* 延迟：GC低停顿和GC低频率
* 低内存占用；
* 高吞吐量

下面展示了一些JVM调优的量化目标参考实例
* Heap 内存使用率 <= 70%;
* Old generation内存使用率<= 70%;
* avgpause <= 1秒;

调优的步骤

分析GC日志及dump文件，判断是否需要优化，确定瓶颈问题点；
确定JVM调优量化目标；
确定JVM调优参数（根据历史JVM参数来调整）；
依次调优内存、延迟、吞吐量等指标；
对比观察调优前后的差异；


